# 📊 코치 대시보드 (Coach Dashboard) 상세 기획 (PRD)

## 1. 개요 (Overview)
코치 사용자가 로그인 후 접근하는 메인 허브입니다. 자신이 만든 프로그램을 관리하고, 구독자 현황을 파악하며, 새로운 운동 프로그램을 생성할 수 있는 SaaS 형태의 관리자 페이지입니다.

## 2. 사용자 흐름 (User Flow)
1. **로그인/회원가입** (`/login`, `/signup`)
   - 코치 계정으로 로그인 성공 시 `/dashboard`로 리다이렉트.
2. **대시보드 메인** (`/dashboard`)
   - 주요 지표 확인 및 프로그램 생성 진입점.
3. **프로그램 생성** (`/dashboard/programs/new`)
   - 기본 정보 입력 후 생성.
4. **프로그램 상세 관리** (`/dashboard/programs/[programId]`)
   - 생성 직후 이곳으로 이동.
   - 워크아웃(운동 루틴) 추가, 수정, 삭제.
   - 해당 프로그램 구독자 관리.

---

## 3. 주요 기능 및 페이지 명세

### 3.1. 대시보드 메인 (`/dashboard`)
코치의 비즈니스 현황을 한눈에 볼 수 있는 페이지입니다.

**주요 구성 요소:**
- **요약 카드 (Metrics):**
  - 총 운영 프로그램 수
  - 총 활성 구독자 수
  - (추후) 이번 달 예상 수익
- **프로그램 목록 (Programs List):**
  - 자신이 만든 프로그램들을 카드 또는 리스트 형태로 표시.
  - 각 항목: 썸네일, 제목, 상태(공개/비공개), 가격, 구독자 수.
  - **[+ 새 프로그램 만들기]** 버튼 (가장 눈에 띄게 배치).
- **최근 활동 (Recent Activities):** (Optional)
  - 최근 구독 신청 내역, 최근 운동 완료 로그 등.

### 3.2. 프로그램 생성 (Program Creation)
새로운 프로그램을 만드는 간단한 모달 또는 페이지입니다.

- **입력 필드:**
  - **프로그램 제목 (Title):** (필수) 예: "30일 하이록스 기초 완성"
  - **설명 (Description):** (선택) 프로그램 소개.
  - **가격 (Price):** (필수) 월 구독료 (0원 가능).
  - **썸네일 (Thumbnail):** (선택) 대표 이미지 업로드.
- **동작:**
  - [생성하기] 버튼 클릭 시 DB에 `programs` 레코드 생성.
  - 생성 성공 후 즉시 **프로그램 상세 페이지**로 이동.

### 3.3. 프로그램 상세 및 관리 (`/dashboard/programs/[programId]`)
특정 프로그램의 모든 것을 관리하는 핵심 페이지입니다. 탭(Tab) 구조를 권장합니다.

#### **Tab 1: 개요 (Overview) & 설정**
- 프로그램 기본 정보(제목, 설명, 가격 등) 수정.
- 프로그램 공개/비공개 전환 (Activation).
- 프로그램 삭제 (위험 구역).

#### **Tab 2: 워크아웃 관리 (Workouts / Coach Flow)**
- **Day-by-Day 리스트:**
  - Day 1, Day 2, Day 3... 순서대로 운동 목록 표시.
- **워크아웃 추가/수정 (CRUD):**
  - **UI:** 좌측 리스트 / 우측 에디터 (또는 모달/드로어).
  - **입력 항목:**
    - 제목 (예: "하체 근지구력 훈련")
    - 내용 (Markdown 에디터 또는 텍스트 에어리어 - 운동 루틴 상세)
    - 영상 URL (YouTube 링크 등)
  - **기능:** 순서 변경(Drag & Drop - 추후 고도화), 삭제.

#### **Tab 3: 구독자 관리 (Subscribers)**
- 이 프로그램을 구독 중인 회원 리스트.
- **테이블 컬럼:**
  - 이름/이메일
  - 구독 시작일
  - 상태 (Active, Canceled)
  - 최근 운동 기록 (마지막 접속일)

### 3.4. 전체 유저 관리 (`/dashboard/users`)
코치에게 소속된(구독한) 모든 유저를 모아서 보는 페이지입니다.

- **기능:**
  - 전체 구독자 검색 및 목록 조회.
  - 특정 유저 클릭 시 유저 상세 정보(운동 기록 등) 모달/페이지 이동.

### 3.5. 기타 필수 기능
- **프로필 설정 (`/dashboard/settings`):**
  - 코치 프로필 사진, 소개말 수정 (판매 페이지에 노출됨).
- **로그아웃:** 사이드바 하단 배치.

---

## 4. 데이터 요구사항 (Data Requirements)
기존 DB 스키마(`document/DB_Schema.md`)를 활용하며, 다음 데이터에 접근합니다.

- **Programs:** `SELECT * FROM programs WHERE coach_id = current_user_id`
- **Workouts:** `SELECT * FROM workouts WHERE program_id = [id]`
- **Subscriptions:** `SELECT * FROM subscriptions WHERE program_id = [id]` (Join with Profiles)

## 5. UI/UX 가이드 (Shadcn UI 활용)
- **레이아웃:**
  - 좌측 고정 사이드바 (LNB): 대시보드, 프로그램, 유저, 설정 메뉴.
  - 상단 헤더 (GNB): 브레드크럼, 유저 프로필 드롭다운.
- **인터랙션:**
  - 데이터 로딩 시 스켈레톤(Skeleton) UI 적용.
  - 폼 제출 시 로딩 인디케이터 및 Toast 알림 (Sonner).
  - 삭제 등 중요 작업 시 Alert Dialog 확인.

